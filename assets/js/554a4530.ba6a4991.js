"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[306],{3905:function(n,t,e){e.d(t,{Zo:function(){return c},kt:function(){return s}});var r=e(7294);function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function o(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function u(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){a(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function l(n,t){if(null==n)return{};var e,r,a=function(n,t){if(null==n)return{};var e,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(a[e]=n[e]);return a}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}var p=r.createContext({}),d=function(n){var t=r.useContext(p),e=t;return n&&(e="function"==typeof n?n(t):u(u({},t),n)),e},c=function(n){var t=d(n.components);return r.createElement(p.Provider,{value:t},n.children)},i={inlineCode:"code",wrapper:function(n){var t=n.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(n,t){var e=n.components,a=n.mdxType,o=n.originalType,p=n.parentName,c=l(n,["components","mdxType","originalType","parentName"]),m=d(e),s=a,g=m["".concat(p,".").concat(s)]||m[s]||i[s]||o;return e?r.createElement(g,u(u({ref:t},c),{},{components:e})):r.createElement(g,u({ref:t},c))}));function s(n,t){var e=arguments,a=t&&t.mdxType;if("string"==typeof n||a){var o=e.length,u=new Array(o);u[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=n,l.mdxType="string"==typeof n?n:a,u[1]=l;for(var d=2;d<o;d++)u[d]=e[d];return r.createElement.apply(null,u)}return r.createElement.apply(null,e)}m.displayName="MDXCreateElement"},2383:function(n,t,e){e.r(t),e.d(t,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return c},default:function(){return m}});var r=e(2122),a=e(9756),o=(e(7294),e(3905)),u=["components"],l={id:"menu-batch",title:"Cria\xe7\xe3o de Card\xe1pio em Lote para Rede",hide_title:!0},p=void 0,d={unversionedId:"checkout/batch/menu-batch",id:"checkout/batch/menu-batch",isDocsHomePage:!1,title:"Cria\xe7\xe3o de Card\xe1pio em Lote para Rede",description:"Criar Card\xe1pio em Lote para Rede",source:"@site/docs/checkout/batch/menu-batch.md",sourceDirName:"checkout/batch",slug:"/checkout/batch/menu-batch",permalink:"/checkout/batch/menu-batch",editUrl:"https://onyo.github.io/docs/checkout/batch/menu-batch.md",version:"current",frontMatter:{id:"menu-batch",title:"Cria\xe7\xe3o de Card\xe1pio em Lote para Rede",hide_title:!0},sidebar:"docs",previous:{title:"Ativar e Desativar lojas em lote para Rede",permalink:"/checkout/batch/online-offline-batch"},next:{title:"Autentica\xe7\xe3o para transa\xe7\xf5es de pedidos",permalink:"/checkout/orders/authentication_orders"}},c=[{value:"Criar Card\xe1pio em Lote para Rede",id:"criar-card\xe1pio-em-lote-para-rede",children:[{value:"Como funciona?",id:"como-funciona",children:[]}]},{value:"Ambientes:",id:"ambientes",children:[]},{value:"Endpoint mutation:",id:"endpoint-mutation",children:[{value:"Retornos da chamada:",id:"retornos-da-chamada",children:[]},{value:"Unauthorized",id:"unauthorized",children:[]}]}],i={toc:c};function m(n){var t=n.components,e=(0,a.Z)(n,u);return(0,o.kt)("wrapper",(0,r.Z)({},i,e,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"criar-card\xe1pio-em-lote-para-rede"},"Criar Card\xe1pio em Lote para Rede"),(0,o.kt)("h3",{id:"como-funciona"},"Como funciona?"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Esta chamada serve para criar card\xe1pio em lote para lojas em uma determinada Rede.")),(0,o.kt)("h2",{id:"ambientes"},"Ambientes:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Homologa\xe7\xe3o"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"https://graphql.staging.onyo.com/graphql\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Produ\xe7\xe3o"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"https://graphql.onyo.com/graphql\n")),(0,o.kt)("h2",{id:"endpoint-mutation"},"Endpoint mutation:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"URL: /graphql"),(0,o.kt)("li",{parentName:"ul"},"M\xe9todo: POST"),(0,o.kt)("li",{parentName:"ul"},"Headers:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Content-Type: application/json"),(0,o.kt)("li",{parentName:"ul"},"Authorization: Bearer ",(0,o.kt)("strong",{parentName:"li"},"accessToken")))),(0,o.kt)("li",{parentName:"ul"},"Payload (formato JSON):")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'mutation {\n  createMenuBatch(\n    brandId: "Int", \n    companiesIds: ["Int"], \n    menu: [\n      {\n        productName: "String", \n        productPosName: "String", \n        productPosReference: "String", \n        productOperator: "String", \n        productSequence: "Int", \n        productShortDescription: "String", \n        productFullDescription: "String", \n        productCategoryId: "Int",\n        productCategoryName: "String", \n        productCompanyPrice: "Float", \n        productCompanyPosPrice: "Float", \n        choosables: [\n          {\n            productMinimumChoices: "Int", \n            productMaximumChoices: "Int", \n            productName: "String", \n            productPosName: "String", \n            productPosReference: "String", \n            productOperator: "String", \n            productSequence: "Int", \n            productCompanyPrice: "Int", \n            productCompanyPosPrice: "Int"\n            simples: [\n              {\n                productMinimumChoices: "Int", \n                productMaximumChoices: "Int", \n                productName: "String", \n                productPosName: "String", \n                productPosReference: "String", \n                productOperator: "String", \n                productSequence: "Int", \n                productCompanyPrice: "Int", \n                productCompanyPosPrice: "Int"\n              }\n            ]\n          },\n        ]\n      },\n      \n    ]) {\n    menuItems {\n      numericalId\n      product {\n        numericalId\n        subproducts {\n          numericalId\n          productType\n          productCompany {\n            edges {\n              node {\n                numericalId\n              }\n            }\n          }\n          subproducts {\n            numericalId\n            productType\n          }\n        }\n      }\n    }\n  }\n}\n\n')),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Campo")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Tipo")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Requerido")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"Exemplo")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productName"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"S"),(0,o.kt)("td",{parentName:"tr",align:null},"P\xe3o de Cenoura")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productPosName"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"N"),(0,o.kt)("td",{parentName:"tr",align:null},"P\xe3o de Cenoura")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productPosReference"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"N"),(0,o.kt)("td",{parentName:"tr",align:null},"produtoABC")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productOperator"),(0,o.kt)("td",{parentName:"tr",align:null},"String (sum, and, xor, or)"),(0,o.kt)("td",{parentName:"tr",align:null},"S"),(0,o.kt)("td",{parentName:"tr",align:null},"sum")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productShortDescription"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"N"),(0,o.kt)("td",{parentName:"tr",align:null},"P\xe3o de Cenoura ralada delicioso")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productFullDescription"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"N"),(0,o.kt)("td",{parentName:"tr",align:null},"P\xe3o de Cenoura ralada delicioso e coberto com chocolate")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productCategoryId"),(0,o.kt)("td",{parentName:"tr",align:null},"Int"),(0,o.kt)("td",{parentName:"tr",align:null},"N"),(0,o.kt)("td",{parentName:"tr",align:null},"1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productCategoryName"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"N* (Se n\xe3o conter um ",(0,o.kt)("strong",{parentName:"td"},"productCategoryId")," esse campo ser\xe1 obrigat\xf3rio. Se for usado junto ao campo ",(0,o.kt)("strong",{parentName:"td"},"productCategoryId")," este campo ser\xe1 atualizado)"),(0,o.kt)("td",{parentName:"tr",align:null},"Padaria")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productCompanyPrice"),(0,o.kt)("td",{parentName:"tr",align:null},"Float"),(0,o.kt)("td",{parentName:"tr",align:null},"S"),(0,o.kt)("td",{parentName:"tr",align:null},"2.52")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productCompanyPosPrice"),(0,o.kt)("td",{parentName:"tr",align:null},"Float"),(0,o.kt)("td",{parentName:"tr",align:null},"N"),(0,o.kt)("td",{parentName:"tr",align:null},"2.52")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productMinimumChoices"),(0,o.kt)("td",{parentName:"tr",align:null},"Int"),(0,o.kt)("td",{parentName:"tr",align:null},"S* (Deve ser usado apenas dentro de uma lista de ",(0,o.kt)("strong",{parentName:"td"},"choosables")," ou ",(0,o.kt)("strong",{parentName:"td"},"simples"),")"),(0,o.kt)("td",{parentName:"tr",align:null},"0")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"productMaximumChoices"),(0,o.kt)("td",{parentName:"tr",align:null},"Int"),(0,o.kt)("td",{parentName:"tr",align:null},"S* (Deve ser usado apenas dentro de uma lista de ",(0,o.kt)("strong",{parentName:"td"},"choosables")," ou ",(0,o.kt)("strong",{parentName:"td"},"simples"),")"),(0,o.kt)("td",{parentName:"tr",align:null},"1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"choosables"),(0,o.kt)("td",{parentName:"tr",align:null},"List"),(0,o.kt)("td",{parentName:"tr",align:null},"N"),(0,o.kt)("td",{parentName:"tr",align:null},"choosables: ","[{...}]")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"simples"),(0,o.kt)("td",{parentName:"tr",align:null},"List"),(0,o.kt)("td",{parentName:"tr",align:null},"S"),(0,o.kt)("td",{parentName:"tr",align:null},"choosables: [{..., simples: ","[{...}]","}]")))),(0,o.kt)("h4",{id:"exemplo-curl"},"Exemplo (curl):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'curl --request POST \\\n--url https://graphql.staging.onyo.com/graphql \\\n--header \'Authorization: Bearer ...\' \\\n--header \'Content-Type: application/json\' \\\n--data \'{"query":"mutation {\\n  createMenuBatch(brandId: 1, companiesIds: [1, 2, 3], \\n    menu: [\\n      {\\n        productName: \\"lorem\\", \\n        productPosName: \\"lorem\\", \\n        productPosReference: \\"lorem\\", \\n        productOperator: \\"sum\\", \\n        productSequence: 1, \\n        productShortDescription: \\"lorem\\", \\n        productFullDescription: \\"lorem\\", \\n        productCategoryId: 8388,\\n        productCategoryName: \\"lorem ddsdsd\\", \\n        productCompanyPrice: 25.5, \\n        productCompanyPosPrice: 25.5, \\n        choosables: [\\n          {\\n            productMinimumChoices: 0, \\n            productMaximumChoices: 1, \\n            productName: \\"lorem\\", \\n            productPosName: \\"lorem\\", \\n            productPosReference: \\"lorem\\", \\n            productOperator: \\"sum\\", \\n            productSequence: 1, \\n            productCompanyPrice: 0, \\n            productCompanyPosPrice: 0\\n            simples: [\\n              {\\n                productMinimumChoices: 0, \\n                productMaximumChoices: 1, \\n                productName: \\"lorem\\", \\n                productPosName: \\"lorem\\", \\n                productPosReference: \\"lorem\\", \\n                productOperator: \\"sum\\", \\n                productSequence: 1, \\n                productCompanyPrice: 0, \\n                productCompanyPosPrice: 0\\n              },\\n              {\\n                productMinimumChoices: 0, \\n                productMaximumChoices: 1, \\n                productName: \\"lorem\\", \\n                productPosName: \\"lorem\\", \\n                productPosReference: \\"lorem\\", \\n                productOperator: \\"sum\\", \\n                productSequence: 1, \\n                productCompanyPrice: 0, \\n                productCompanyPosPrice: 0\\n              },\\n              {\\n                productMinimumChoices: 0, \\n                productMaximumChoices: 1, \\n                productName: \\"lorem\\", \\n                productPosName: \\"lorem\\", \\n                productPosReference: \\"lorem\\", \\n                productOperator: \\"sum\\", \\n                productSequence: 1, \\n                productCompanyPrice: 0, \\n                productCompanyPosPrice: 0\\n              }\\n            ]\\n          },\\n        ]\\n      },\\n    ]) \\n  {\\n    menuItems {\\n      numericalId\\n      product {\\n        numericalId\\n        subproducts {\\n          numericalId\\n          productType\\n          productCompany {\\n            edges {\\n              node {\\n                numericalId\\n              }\\n            }\\n          }\\n          subproducts {\\n            numericalId\\n            productType\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\n"}\'\n')),(0,o.kt)("h3",{id:"retornos-da-chamada"},"Retornos da chamada:"),(0,o.kt)("h4",{id:"sucesso"},"Sucesso:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "createMenuBatch": {\n      "menuItems": [\n        {\n          "numericalId": 919791,\n          "product": {\n            "numericalId": 273862,\n            "subproducts": [\n              {\n                "numericalId": 273863,\n                "productType": "CHOOSABLE",\n                "productCompany": {\n                  "edges": [\n                    {\n                      "node": {\n                        "numericalId": 919796\n                      }\n                    },\n                    {\n                      "node": {\n                        "numericalId": 919795\n                      }\n                    },\n                    {\n                      "node": {\n                        "numericalId": 919794\n                      }\n                    }\n                  ]\n                },\n                "subproducts": [\n                  {\n                    "numericalId": 273866,\n                    "productType": "SIMPLE"\n                  },\n                  {\n                    "numericalId": 273865,\n                    "productType": "SIMPLE"\n                  },\n                  {\n                    "numericalId": 273864,\n                    "productType": "SIMPLE"\n                  }\n                ]\n              }\n            ]\n          }\n        },\n        {\n          "numericalId": 919792,\n          "product": {\n            "numericalId": 273862,\n            "subproducts": [\n              {\n                "numericalId": 273863,\n                "productType": "CHOOSABLE",\n                "productCompany": {\n                  "edges": [\n                    {\n                      "node": {\n                        "numericalId": 919796\n                      }\n                    },\n                    {\n                      "node": {\n                        "numericalId": 919795\n                      }\n                    },\n                    {\n                      "node": {\n                        "numericalId": 919794\n                      }\n                    }\n                  ]\n                },\n                "subproducts": [\n                  {\n                    "numericalId": 273866,\n                    "productType": "SIMPLE"\n                  },\n                  {\n                    "numericalId": 273865,\n                    "productType": "SIMPLE"\n                  },\n                  {\n                    "numericalId": 273864,\n                    "productType": "SIMPLE"\n                  }\n                ]\n              }\n            ]\n          }\n        },\n        {\n          "numericalId": 919793,\n          "product": {\n            "numericalId": 273862,\n            "subproducts": [\n              {\n                "numericalId": 273863,\n                "productType": "CHOOSABLE",\n                "productCompany": {\n                  "edges": [\n                    {\n                      "node": {\n                        "numericalId": 919796\n                      }\n                    },\n                    {\n                      "node": {\n                        "numericalId": 919795\n                      }\n                    },\n                    {\n                      "node": {\n                        "numericalId": 919794\n                      }\n                    }\n                  ]\n                },\n                "subproducts": [\n                  {\n                    "numericalId": 273866,\n                    "productType": "SIMPLE"\n                  },\n                  {\n                    "numericalId": 273865,\n                    "productType": "SIMPLE"\n                  },\n                  {\n                    "numericalId": 273864,\n                    "productType": "SIMPLE"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    }\n  }\n}\n')),(0,o.kt)("h3",{id:"unauthorized"},"Unauthorized"),(0,o.kt)("p",null,"Quando n\xe3o autorizado o ",(0,o.kt)("strong",{parentName:"p"},"accessToken")," pode ocorrer os seguintes erros:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"erro")),(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"th"},"motivo")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"onyo_graphql.unauthorized"),(0,o.kt)("td",{parentName:"tr",align:null},"quando o usu\xe1rio n\xe3o tem acesso a ",(0,o.kt)("strong",{parentName:"td"},"brand")," (ou marca)")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"onyo_graphql.batch_service_company_unauthorized"),(0,o.kt)("td",{parentName:"tr",align:null},"quando a ",(0,o.kt)("strong",{parentName:"td"},"CompanyId")," n\xe3o \xe9 autorizada.")))),(0,o.kt)("h4",{id:"exemplo"},"Exemplo:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "errors": [\n    {\n      "message": "onyo_graphql.unauthorized",\n      ...\n    }\n  ],\n  "data": {\n    "createMenuBatch": null\n  }\n}\n')))}m.isMDXComponent=!0}}]);